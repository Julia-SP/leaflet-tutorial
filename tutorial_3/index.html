<!--Tercer tutorial, customizar marcadores
✅ Carga un mapa centrado en Londres.
✅ Agrega un marcador con un icono personalizado (una hoja verde).
✅ Muestra un popup cuando el usuario hace clic en el marcador.
✅ El popup aparece automáticamente al cargar la página.-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tutorial 3 Leaflet </title>
    <!-- Cargar los estilos de Leaflet -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""/>

    <style>
        /* Definimos que el mapa ocupará toda la pantalla */
        body, html {
            height: 100%;
            margin: 0;
        }
        #map {
            height: 100%;
        }
    </style>
</head>
<body>

    <!-- Contenedor del mapa -->
    <div id="map"></div>

    <!-- Importamos Leaflet.js -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""></script>

    <script>
    /*  Inicializar el mapa y centrarlo en una ubicación específica */
        let map = L.map('map').setView([51.505, -0.09], 13); 

    /* Añadir la capa de OpenStreetMap */
        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '© OpenStreetMap'
        }).addTo(map);

    /*  Definir un icono personalizado */
        let customIcon = L.icon({
            iconUrl: 'https://leafletjs.com/examples/custom-icons/leaf-green.png', // Imagen del icono
            shadowUrl: 'https://leafletjs.com/examples/custom-icons/leaf-shadow.png', // Sombra del icono

            iconSize:     [38, 95],  // Tamaño del icono [ancho, alto]
            shadowSize:   [50, 64],  // Tamaño de la sombra
            iconAnchor:   [22, 94],  // Punto del icono que se coloca en las coordenadas
            shadowAnchor: [4, 62],   // Punto de la sombra
            popupAnchor:  [-3, -76]  // Punto donde aparecerá el popup en relación al icono
        });

        /* Agregar un marcador con el icono personalizado */
        L.marker([51.5, -0.09], {icon: customIcon}).addTo(map)
            .bindPopup("Soy el nuevo icono!") // Mensaje emergente
            .openPopup(); // Abre el popup automáticamente
    </script>

</body>
</html>
